# ==============================================================================
# SISTEMA DE GERENCIAMENTO DE FEEDBACKS - CONFIGURAÇÕES
# ==============================================================================

# Informações da Aplicação
spring.application.name=feedback-system-cloud
server.port=${PORT:8080}

# ==============================================================================
# CONFIGURAÇÕES DE BANCO DE DADOS
# ==============================================================================

# H2 Database (Desenvolvimento Local)
spring.datasource.url=jdbc:h2:mem:feedbackdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console (acesso via /h2-console)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# ==============================================================================
# CONFIGURAÇÕES PARA PRODUÇÃO (Google Cloud SQL - PostgreSQL)
# Descomente as linhas abaixo ao fazer deploy
# ==============================================================================

# spring.datasource.url=jdbc:postgresql://localhost:5432/feedbackdb
# spring.datasource.username=${DB_USER}
# spring.datasource.password=${DB_PASSWORD}
# spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# spring.jpa.hibernate.ddl-auto=update

# Para Cloud SQL Socket Factory (Google Cloud)
# spring.cloud.gcp.sql.database-name=feedbackdb
# spring.cloud.gcp.sql.instance-connection-name=${INSTANCE_CONNECTION_NAME}

# ==============================================================================
# CONFIGURAÇÕES DE SEGURANÇA JWT
# ==============================================================================

# Chave secreta JWT (256 bits mínimo) - ALTERE EM PRODUÇÃO!
jwt.secret=minha-chave-secreta-super-segura-para-jwt-token-com-256-bits-minimo-feedback-system-2024
jwt.expiration=86400000

# ==============================================================================
# CONFIGURAÇÕES DE CLOUD FUNCTIONS
# ==============================================================================

# URL da Cloud Function de Notificação
cloud.function.notification.url=${NOTIFICATION_FUNCTION_URL:http://localhost:8081/notify}

# URL da Cloud Function de Relatório
cloud.function.report.url=${REPORT_FUNCTION_URL:http://localhost:8082/report}

# ==============================================================================
# CONFIGURAÇÕES DE EMAIL (opcional)
# ==============================================================================

# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=${EMAIL_USERNAME}
# spring.mail.password=${EMAIL_PASSWORD}
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# ==============================================================================
# ACTUATOR (Monitoramento)
# ==============================================================================

management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# ==============================================================================
# LOGGING
# ==============================================================================

logging.level.root=INFO
logging.level.com.feedback.system=INFO
logging.level.org.springframework.security=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ==============================================================================
# GOOGLE CLOUD SETTINGS
# ==============================================================================

# spring.cloud.gcp.project-id=${GCP_PROJECT_ID}
# spring.cloud.gcp.credentials.location=classpath:gcp-credentials.json
